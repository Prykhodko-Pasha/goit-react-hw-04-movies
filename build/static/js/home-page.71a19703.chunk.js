(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{33:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(33);function c(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(34);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){c=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},36:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r="https://api.themoviedb.org/3",c="352acb8d318346b404dce557309fb342";function o(e){return fetch("".concat(r,"/trending/movie/week?api_key=").concat(c,"&page=").concat(e)).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))}function a(e,t){return fetch("".concat(r,"/search/movie?api_key=").concat(c,"&query=").concat(e,"&page=").concat(t)).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))}function i(e){return fetch("".concat(r,"/movie/").concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))}function s(e){return fetch("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(c)).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))}function u(e){return console.log("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(c)),fetch("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(c)).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(33);var c=n(34);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},38:function(e,t,n){e.exports={MoviesGallery:"MoviesGallery_MoviesGallery__1hFKr",MoviesGalleryItem:"MoviesGallery_MoviesGalleryItem__7a9xO"}},39:function(e,t,n){e.exports={MoviesGalleryItem__image:"MoviesGalleryItem_MoviesGalleryItem__image__3Vxgj",MoviesGalleryItem__descr:"MoviesGalleryItem_MoviesGalleryItem__descr__2N6JR",MoviesGalleryItem__name:"MoviesGalleryItem_MoviesGalleryItem__name__3_Ynv",MoviesGalleryItem__year:"MoviesGalleryItem_MoviesGalleryItem__year__dFE-r"}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var r=n(41),c=n.n(r),o=n(1);function a(e){var t=e.onLoadMore;return Object(o.jsx)("button",{type:"button",className:c.a.Button,onClick:t,children:"Load more"})}},41:function(e,t,n){e.exports={Button:"Button_Button__7CmtT"}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),c=n(8),o=n(38),a=n.n(o),i=n(39),s=n.n(i),u=n(1);function l(e){var t=e.id,n=e.poster_path,r=e.title,c=e.release_date,o=c?c.slice(0,4):"0000";return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{id:t,src:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://artismedia.by/blog/wp-content/uploads/2018/05/in-blog2-1.png",alt:"",className:s.a.MoviesGalleryItem__image}),Object(u.jsxs)("div",{className:s.a.MoviesGalleryItem__descr,children:[Object(u.jsx)("p",{className:s.a.MoviesGalleryItem__name,children:r}),Object(u.jsx)("p",{className:s.a.MoviesGalleryItem__year,children:o})]})]})}function f(e){var t=e.moviesArr,n=Object(r.i)().url,o=n.includes("/movies")?n:"".concat(n,"movies"),i=Object(r.g)();return Object(u.jsx)("ul",{className:a.a.MoviesGallery,children:t.map((function(e,t){var n=e.id,r=e.poster_path,s=e.title,f=e.release_date;return Object(u.jsx)(c.b,{to:{pathname:"".concat(o,"/").concat(n),state:{from:i}},className:a.a.MoviesGalleryItem,children:Object(u.jsx)(l,{id:n,poster_path:r,title:s,release_date:f})},t)}))})}},53:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(37),c=n(35),o=n(0),a=n(36),i=n(15),s=n(44),u=n(40),l=n(1);function f(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],f=t[1],m=Object(o.useState)("idle"),d=Object(c.a)(m,2),j=d[0],b=d[1],v=Object(o.useState)(1),h=Object(c.a)(v,2),y=h[0],_=h[1],p=Object(o.useState)(!1),O=Object(c.a)(p,2),g=O[0],M=O[1],x=Object(o.useState)(""),G=Object(c.a)(x,2),I=G[0],w=G[1];Object(o.useEffect)((function(){b("pending"),Object(a.e)(y).then((function(e){if(0===e.results.length)b("rejected"),w("Something gone wrong :(");else{var t=Math.ceil(e.total_pages/12),n=e.results.map((function(e){return{id:e.id,poster_path:e.poster_path,title:e.title,release_date:e.release_date}}));f((function(e){return[].concat(Object(r.a)(e),Object(r.a)(n))})),b("resolved"),M(t!==y)}})).catch((function(e){b("rejected"),w("There is an error: ".concat(e))})),window.scrollTo({top:document.documentElement.scrollHeight-window.innerHeight,behavior:"smooth"})}),[y]);return Object(l.jsxs)(l.Fragment,{children:["pending"===j&&Object(l.jsxs)(l.Fragment,{children:[0!==n.length&&Object(l.jsx)(s.a,{moviesArr:n}),Object(l.jsx)("div",{style:{height:"80vh"},children:Object(l.jsx)(i.a,{})})]}),"rejected"===j&&Object(l.jsx)("p",{children:I}),"resolved"===j&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s.a,{moviesArr:n}),g&&Object(l.jsx)(u.a,{onLoadMore:function(){_(y+1),b("pending")}})]})]})}}}]);
//# sourceMappingURL=home-page.71a19703.chunk.js.map