(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{37:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(33);var i=n(34);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},50:function(e,t,n){e.exports={Reviews:"Reviews_Reviews__1Wxqc"}},51:function(e,t,n){e.exports={ReviewsItem:"ReviewsItem_ReviewsItem__3wxgM",ReviewsItem__author:"ReviewsItem_ReviewsItem__author__13CGZ",ReviewsItem__text:"ReviewsItem_ReviewsItem__text__2c_Qk"}},58:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(37),i=n(35),c=n(0),o=n(2),s=n(50),a=n.n(s),u=n(36),h=n(15),j=n(51),b=n.n(j),w=n(1);function v(e){var t=e.author,n=e.content;return Object(w.jsxs)("li",{className:b.a.ReviewsItem,children:[Object(w.jsx)("p",{className:b.a.ReviewsItem__author,children:t}),Object(w.jsx)("p",{className:b.a.ReviewsItem__text,children:n})]})}function l(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],j=Object(c.useState)("idle"),b=Object(i.a)(j,2),l=b[0],m=b[1],d=Object(c.useState)(""),f=Object(i.a)(d,2),_=f[0],O=f[1],p=Object(o.h)().movieId;return Object(c.useEffect)((function(){window.scrollTo({top:window.innerHeight/2,behavior:"smooth"})})),Object(c.useEffect)((function(){m("pending"),Object(u.c)(p).then((function(e){if(0===e.results.length)m("rejected"),O("There are no reviews...");else{var t=e.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}));s((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t))})),m("resolved")}})).catch((function(e){m("rejected"),O("There is an error: ".concat(e))})),window.scrollTo({top:window.innerHeight/2,behavior:"smooth"})}),[p]),Object(w.jsxs)(w.Fragment,{children:["pending"===l&&Object(w.jsx)(h.a,{}),"rejected"===l&&Object(w.jsx)("p",{className:"Msg",style:{height:window.innerHeight/2},children:_}),"resolved"===l&&Object(w.jsx)("ul",{className:a.a.Reviews,children:n.map((function(e,t){var n=e.author,r=e.content;return Object(w.jsx)(v,{author:n,content:r},t)}))})]})}}}]);
//# sourceMappingURL=reviews.b7a7e65a.chunk.js.map