{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Reviews/Reviews.module.css","components/ReviewsItem/ReviewsItem.module.css","components/ReviewsItem/ReviewsItem.js","components/Reviews/Reviews.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","module","exports","ReviewsItem","author","content","className","s","ReviewsItem__author","ReviewsItem__text","Reviews","useState","reviews","setReviews","status","setStatus","errorMessage","setErrorMessage","movieId","useParams","useEffect","window","scrollTo","top","innerHeight","behavior","fetchMovieReviews","then","data","results","length","usableReviewsKeysArr","map","id","prevReviews","catch","err","Loader","style","height","index"],"mappings":"mMAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,mBIJ9FC,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,oBAAsB,yCAAyC,kBAAoB,yC,0KCErI,SAASC,EAAT,GAA2C,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC5C,OACE,qBAAIC,UAAWC,IAAEJ,YAAjB,UACE,mBAAGG,UAAWC,IAAEC,oBAAhB,SAAsCJ,IACtC,mBAAGE,UAAWC,IAAEE,kBAAhB,SAAoCJ,OCA3B,SAASK,IACtB,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAAS,QAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAwCJ,mBAAS,IAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KAEQC,EAAYC,cAAZD,QA4CR,OA1CAE,qBAAU,WACRC,OAAOC,SAAS,CACdC,IAAKF,OAAOG,YAAc,EAC1BC,SAAU,cAIdL,qBAAU,WACRL,EAAU,WAEVW,YAAkBR,GACfS,MAAK,SAAAC,GAEJ,GAA4B,IAAxBA,EAAKC,QAAQC,OACff,EAAU,YACVE,EAAgB,+BACX,CACL,IAAMc,EAAuBH,EAAKC,QAAQG,KACxC,YACE,MAAO,CACLC,GAFyB,EAA1BA,GAGC7B,OAHyB,EAAtBA,OAIHC,QAJyB,EAAdA,YASjBQ,GAAW,SAAAqB,GAAW,4BAAQA,GAAR,YAAwBH,OAC9ChB,EAAU,gBAGboB,OAAM,SAAAC,GACLrB,EAAU,YACVE,EAAgB,sBAAD,OAAuBmB,OAG1Cf,OAAOC,SAAS,CACdC,IAAKF,OAAOG,YAAc,EAC1BC,SAAU,aAEX,CAACP,IAGF,qCACc,YAAXJ,GAAwB,cAACuB,EAAA,EAAD,IACb,aAAXvB,GACC,mBAAGR,UAAU,MAAMgC,MAAO,CAAEC,OAAQlB,OAAOG,YAAc,GAAzD,SACGR,IAGO,aAAXF,GACC,oBAAIR,UAAWC,IAAEG,QAAjB,SACGE,EAAQoB,KAAI,WAAsBQ,GAAtB,IAAGpC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAAX,OACX,cAACF,EAAD,CAAyBC,OAAQA,EAAQC,QAASA,GAAhCmC","file":"static/js/reviews.b7a7e65a.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Reviews\":\"Reviews_Reviews__1Wxqc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewsItem\":\"ReviewsItem_ReviewsItem__3wxgM\",\"ReviewsItem__author\":\"ReviewsItem_ReviewsItem__author__13CGZ\",\"ReviewsItem__text\":\"ReviewsItem_ReviewsItem__text__2c_Qk\"};","import PropTypes from 'prop-types';\r\nimport s from './ReviewsItem.module.css';\r\n\r\nexport default function ReviewsItem({ author, content }) {\r\n  return (\r\n    <li className={s.ReviewsItem}>\r\n      <p className={s.ReviewsItem__author}>{author}</p>\r\n      <p className={s.ReviewsItem__text}>{content}</p>\r\n    </li>\r\n  );\r\n}\r\n\r\nReviewsItem.propTypes = {\r\n  author: PropTypes.string.isRequired,\r\n  content: PropTypes.string.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport s from './Reviews.module.css';\r\nimport { fetchMovieReviews } from '../../services/movies-api';\r\nimport Loader from '../Loader/Loader';\r\nimport ReviewsItem from '../ReviewsItem/ReviewsItem';\r\n\r\nexport default function Reviews() {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [status, setStatus] = useState('idle');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const { movieId } = useParams();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: window.innerHeight / 2,\r\n      behavior: 'smooth',\r\n    });\r\n  });\r\n\r\n  useEffect(() => {\r\n    setStatus('pending');\r\n\r\n    fetchMovieReviews(movieId)\r\n      .then(data => {\r\n        // console.log(data);\r\n        if (data.results.length === 0) {\r\n          setStatus('rejected');\r\n          setErrorMessage('There are no reviews...');\r\n        } else {\r\n          const usableReviewsKeysArr = data.results.map(\r\n            ({ id, author, content }) => {\r\n              return {\r\n                id,\r\n                author,\r\n                content,\r\n              };\r\n            },\r\n          );\r\n\r\n          setReviews(prevReviews => [...prevReviews, ...usableReviewsKeysArr]);\r\n          setStatus('resolved');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setStatus('rejected');\r\n        setErrorMessage(`There is an error: ${err}`);\r\n      });\r\n\r\n    window.scrollTo({\r\n      top: window.innerHeight / 2,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {status === 'pending' && <Loader />}\r\n      {status === 'rejected' && (\r\n        <p className=\"Msg\" style={{ height: window.innerHeight / 2 }}>\r\n          {errorMessage}\r\n        </p>\r\n      )}\r\n      {status === 'resolved' && (\r\n        <ul className={s.Reviews}>\r\n          {reviews.map(({ author, content }, index) => (\r\n            <ReviewsItem key={index} author={author} content={content} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}